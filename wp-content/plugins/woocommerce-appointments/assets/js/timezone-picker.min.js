var wc_appointments_timezone_picker={};jQuery(function(c){"use strict";var a=wca_get_cookie("appointments_time_zone");(wc_appointments_timezone_picker={init:function(){c("body").on("change","#wc_appointments_field_timezone",this.select_timezone),c("a.selected-timezone").on("click",this.show_timezone_select),c('select[name="wc_appointments_field_timezone"]').on("select2:close",this.hide_timezone_select),c(".wc-appointments-appointment-form").each(function(){var e=c(this).closest("form"),t=e.find(".picker:eq(0)"),n=e.find(".wc_appointments_field_timezone"),i=n.find("select"),o=moment.tz.guess(!0)||wc_appointment_form_params.server_timezone,s=i.val(),t=t.attr("data-timezone_conversion");i.select2(),t&&null===a&&o!==s&&(wca_set_cookie("appointments_time_zone",o,30),n.find(".selected-timezone").text(o.replace("_"," ")),i.val(o),e.triggerHandler("timezone-selected"))})},show_timezone_select:function(e){var t=c(this).closest(".wc_appointments_field_timezone");c(e.target).hasClass("selected-timezone")?(t.find("select, .select2").css("display","block"),t.find("select").select2("open")):t.find("select, .select2").css("display","none")},hide_timezone_select:function(e){c(this).closest(".wc_appointments_field_timezone").find("select, .select2").css("display","none"),e.preventDefault()},select_timezone:function(){var e=c(this).val(),n=c(this).closest("form"),e={"wc-ajax":"wc_appointments_set_timezone_cookie",timezone:e,security:wc_appointment_form_params.nonce_set_timezone_cookie};n.find(".wc-appointments-appointment-form-button").prop("disabled",!0),c.ajax({context:this,url:wc_appointments_timezone_picker_args.ajax_url,method:"POST",data:e}).done(function(t){c(".wc-appointments-appointment-form").each(function(){var e=c(this).closest("form").find(".wc_appointments_field_timezone");e.find(".selected-timezone").text(t.replace("_"," ")),e.find("select, .select2").css("display","none")}),n.triggerHandler("timezone-selected")})}}).init()});